# 校园招聘系统后端开发须知

## 一、项目概述

本项目为"基于智能推荐的校园招聘系统"后端部分，服务于Vue3+TS前端，支持学生、企业、管理员三大角色，涵盖注册登录、信息完善、职位管理、简历、申请、推荐、消息、统计等核心功能。后端采用Spring Boot为主业务框架，Supabase托管PostgreSQL数据库，Django用于推荐算法与数据分析。

---

## 二、技术栈说明

- **主业务框架**：Spring Boot 3.x（Java 17+）
- **数据库**：PostgreSQL（Supabase托管，兼容本地/云端）
- **推荐算法/数据分析**：Django 4.x（Python 3.10+，REST API，协同过滤等）
- **ORM**：JPA/Hibernate（Java），Django ORM（Python）
- **API接口**：RESTful，JSON格式，遵循统一响应规范
- **安全**：JWT认证，RBAC权限控制，接口幂等性
- **测试**：JUnit5（Java），Pytest（Python），Postman/自动化接口测试
- **部署**：Docker容器化，CI/CD（GitHub Actions/Jenkins），支持本地与云端部署

---

## 三、目录结构建议

```
backend/
├── springboot-app/         # 主业务后端（Spring Boot）
│   ├── src/main/java/
│   ├── src/main/resources/
│   ├── pom.xml
│   └── ...
├── django-recommend/       # 推荐算法与分析（Django）
│   ├── recommend/
│   ├── manage.py
│   └── requirements.txt
├── scripts/                # 数据迁移、初始化脚本
├── docker/
│   ├── Dockerfile-springboot
│   ├── Dockerfile-django
│   └── docker-compose.yml
└── README.md
```

---

## 四、开发流程

1. **环境准备**
   - 安装JDK 17+、Python 3.10+、PostgreSQL、本地Supabase CLI（可选）
   - 配置IDE（IntelliJ IDEA/PyCharm/VSCode）
   - 拉取代码，配置环境变量（.env/.env.local）

2. **数据库初始化**
   - 使用`database_schema.sql`初始化PostgreSQL数据库
   - 配置数据源（Spring Boot、Django均需）
   - 编写数据迁移脚本（Flyway/Liquibase/Django Migrations）

3. **主业务开发（Spring Boot）**
   - 按模块（用户、学生、企业、职位、简历、申请、推荐、消息、权限等）开发RESTful接口
   - 统一响应格式（code/message/data），错误码与前端约定
   - JWT认证与权限校验，接口幂等性
   - 业务逻辑与数据访问分层（Controller/Service/Repository）
   - 日志、异常、参数校验、接口文档（Swagger/OpenAPI）

4. **推荐算法开发（Django）**
   - 实现推荐API（如智能推荐、反馈、评分等）
   - 协同过滤/内容推荐算法，行为日志采集与分析
   - 与主后端通过REST API或消息队列集成

5. **接口联调与测试**
   - 与前端对接，接口联调，Mock数据/真实数据切换
   - 单元测试、集成测试、接口自动化测试
   - 性能测试与安全加固

6. **部署与运维**
   - Docker容器化，编写Dockerfile、docker-compose
   - CI/CD自动化部署，环境变量管理
   - 日志、监控、告警、备份

---

## 五、接口规范

- **基础URL**：`/api`（与前端一致）
- **认证**：JWT，`Authorization: Bearer {token}`
- **响应格式**：
  ```json
  {
    "code": 200,
    "message": "操作成功",
    "data": {}
  }
  ```
- **分页**：`page`、`pageSize`参数，返回`total`、`list`
- **错误码**：200成功，400参数错误，401未授权，403权限不足，404资源不存在，500服务器错误
- **文件上传**：FormData，支持大文件分片（后续）
- **接口文档**：Swagger/OpenAPI自动生成，定期与前端同步

---

## 六、测试与部署

- **单元测试**：Junit5（Java），Pytest（Python），覆盖率>80%
- **接口测试**：Postman/自动化脚本，关键流程全覆盖
- **端到端测试**：与前端协作，Playwright/E2E
- **持续集成**：代码提交自动测试、构建、部署
- **环境管理**：开发/测试/生产环境隔离，配置中心
- **日志与监控**：ELK/Prometheus/Grafana等

---

## 七、协作规范

- **分支管理**：Git Flow/Feature分支，PR审核
- **代码规范**：Checkstyle/ESLint/Black，自动格式化
- **接口变更**：需同步前端，更新接口文档
- **任务追踪**：Jira/飞书/看板，定期站会
- **文档维护**：README、开发须知、API文档、数据库文档同步更新

---

## 八、后续计划与建议

- 持续优化推荐算法，完善行为日志采集与分析
- 完善权限体系，支持更细粒度的RBAC
- 实现API限流、缓存、分布式部署
- 数据安全与合规，定期备份与恢复演练
- 持续完善测试用例与覆盖率
- 定期代码审查与性能优化

---

> 本须知将随项目进展持续更新，所有开发成员需定期查阅并遵循。 